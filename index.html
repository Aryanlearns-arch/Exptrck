<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Expense Tracker</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f6f9;
      padding: 20px;
      max-width: 700px;
      margin: auto;
    }
    h1 {
      text-align: center;
    }
    h2 {
      margin-top: 20px;
    }
    .card {
      background: white;
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      margin-bottom: 20px;
    }
    input, button {
      padding: 8px;
      margin: 5px 0;
      width: 100%;
      font-size: 14px;
    }
    button {
      background: #4f46e5;
      color: white;
      border: none;
      cursor: pointer;
      border-radius: 4px;
    }
    button:hover {
      opacity: 0.9;
    }
    ul {
      padding-left: 18px;
    }
    li {
      margin-bottom: 6px;
    }
    .remove-btn {
      background: #ef4444;
      margin-left: 10px;
      padding: 4px 8px;
      font-size: 12px;
      width: auto;
    }
  </style>
</head>
<body>

<h1>Expense Tracker</h1>

<div class="card">
  <h2>Balance</h2>
  <p>Available Balance: ₹<span id="balance">0.00</span></p>
  <input type="number" id="depositAmount" placeholder="Deposit amount">
  <button onclick="deposit()">Deposit</button>
</div>

<div class="card">
  <h2>Add Liability</h2>
  <input type="text" id="liabilityName" placeholder="Liability name">
  <input type="number" id="liabilityAmount" placeholder="Amount">
  <button onclick="addLiability()">Add Liability</button>
  <ul id="liabilityList"></ul>
</div>

<div class="card">
  <h2>Add Expense</h2>
  <input type="number" id="expenseAmount" placeholder="Expense amount">
  <input type="text" id="expenseNote" placeholder="Note">
  <button onclick="addExpense()">Add Expense</button>
  <ul id="expenseList"></ul>
</div>

<script>
  let balance = 0;
  const liabilities = [];
  const expenses = [];

  function deposit() {
    const amt = Number(document.getElementById("depositAmount").value);
    if (amt <= 0) return alert("Enter a valid amount");
    balance += amt;
    document.getElementById("depositAmount").value = "";
    updateBalance();
  }

  function addLiability() {
    const name = document.getElementById("liabilityName").value;
    const amt = Number(document.getElementById("liabilityAmount").value);
    if (!name || amt <= 0) return alert("Enter valid liability");
    liabilities.push({ name, amt });
    document.getElementById("liabilityName").value = "";
    document.getElementById("liabilityAmount").value = "";
    renderLiabilities();
  }

  function addExpense() {
    const amt = Number(document.getElementById("expenseAmount").value);
    const note = document.getElementById("expenseNote").value || "No note";
    const date = new Date().toLocaleDateString();

    if (amt <= 0) return alert("Enter valid amount");
    if (amt > balance) return alert("Not enough balance");

    expenses.push({ amt, note, date });
    balance -= amt;
    document.getElementById("expenseAmount").value = "";
    document.getElementById("expenseNote").value = "";
    updateBalance();
    renderExpenses();
  }

  function removeExpense(index) {
    const exp = expenses[index];
    balance += exp.amt;
    expenses.splice(index, 1);
    updateBalance();
    renderExpenses();
  }

  function updateBalance() {
    document.getElementById("balance").innerText = balance.toFixed(2);
  }

  function renderLiabilities() {
    const list = document.getElementById("liabilityList");
    list.innerHTML = "";
    liabilities.forEach(l => {
      const li = document.createElement("li");
      li.textContent = `${l.name}: ₹${l.amt}`;
      list.appendChild(li);
    });
  }

  function renderExpenses() {
    const list = document.getElementById("expenseList");
    list.innerHTML = "";
    expenses.forEach((e, i) => {
      const li = document.createElement("li");
      li.innerHTML = `₹${e.amt} on ${e.date} (${e.note})
        <button class="remove-btn" onclick="removeExpense(${i})">Remove</button>`;
      list.appendChild(li);
    });
  }
</script>

</body>
</html>
